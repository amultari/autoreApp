<div class="container">
    <div *ngIf="errorMessage" class="alert alert-danger alert-dismissible fade show" role="alert">
        {{errorMessage}}
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>

    <div class='card'>
        <div class='card-header'>
            <h5>Inserisci nuovo elemento</h5>
        </div>
        <div class='card-body'>

            <h6 class="card-title">I campi con <span class="text-danger">*</span> sono obbligatori</h6>

            <form (ngSubmit)="save(autoreForm)" #autoreForm="ngForm" novalidate>

                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label>Nome <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" placeholder="Inserire il nome" required minlength="2"
                            id="nome" name="nome" [(ngModel)]="autore.nome" #nomeVar="ngModel"
                            [ngClass]="{'is-invalid': (nomeVar.touched || nomeVar.dirty) && !nomeVar.valid }">
                        <span class="invalid-feedback">
                            <span *ngIf="nomeVar.errors?.required">
                                Prego inserire un valore
                            </span>
                            <span *ngIf="nomeVar.errors?.minlength">
                                Il campo deve avere almeno due caratteri.
                            </span>
                        </span>
                    </div>

                    <div class="form-group col-md-6">
                        <label>Cognome <span class="text-danger">*</span></label>
                        <input type="text" id="cognome" class="form-control" placeholder="Inserire il cognome" required
                            minlength="2" name="cognome" [(ngModel)]="autore.cognome" #cognomeVar="ngModel"
                            [ngClass]="{'is-invalid': (cognomeVar.touched || cognomeVar.dirty) && !cognomeVar.valid }">
                        <span class="invalid-feedback">
                            <span *ngIf="cognomeVar.errors?.required">
                                Prego inserire un valore
                            </span>
                            <span *ngIf="cognomeVar.errors?.minlength">
                                Il campo deve avere almeno due caratteri.
                            </span>
                        </span>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group col-md-3">
                        <label>Data di nascita<span class="text-danger">*</span></label>
                        <input class="form-control" id="dataNascita" type="date" placeholder="dd/MM/yy"
                            title="formato : gg/mm/aaaa" required name="dataNascita" [(ngModel)]="autore.dataNascita"
                            #dataNascitaVar="ngModel"
                            [ngClass]="{'is-invalid': (dataNascitaVar.touched || dataNascitaVar.dirty) && !dataNascitaVar.valid }">
                        <span class="invalid-feedback">
                            <span *ngIf="!dataNascitaVar.valid">
                                Il campo deve essere correttamente valorizzato
                            </span>
                        </span>
                    </div>

                    <div class="form-group col-md-9">
                        <label>Nazionalità <span class="text-danger">*</span></label>
                        <select id="nazionalita" class="form-control" required name="nazionalita"
                            [(ngModel)]="autore.nazionalita" #nazionalitaVar="ngModel"
                            [ngClass]="{'is-invalid': (nazionalitaVar.touched || nazionalitaVar.dirty) && !nazionalitaVar.valid }">
                            <option value=""> - Selezionare - </option>
                            <option value="FRA">Francese</option>
                            <option value="ENG">Inglese</option>
                            <option value="ITA">Italia</option>
                            <option value="USA">Stati Uniti</option>
                        </select>
                        <span class="invalid-feedback">
                            <span *ngIf="nazionalitaVar.errors?.required">
                                Prego selezionare un valore
                            </span>
                        </span>
                    </div>
                </div>

                <div class="form-row">

                    <div class="form-group col-md-3">
                        <p>In Attività <span class="text-danger">*</span>:</p>
                        <div class="form-check-inline ml-1">
                            <input class="form-check-input" type="radio" id="inAttivitaTrueId" [value]="true" required
                                name="inAttivita" [(ngModel)]="autore.inAttivita">
                            <label class="form-check-label" for="inAttivitaTrueId">
                                SI
                            </label>
                        </div>
                        <div class="form-check-inline">
                            <input class="form-check-input" type="radio" id="inAttivitaFalseId" [value]="false" required
                                name="inAttivita" [(ngModel)]="autore.inAttivita">
                            <label class="form-check-label" for="inAttivitaFalseId">
                                NO
                            </label>
                        </div>
                    </div>
                </div>


                <button type="submit" [disabled]="!autoreForm.valid" name="submit" value="submit" id="submit"
                    class="btn btn-primary">Conferma</button>

                <a routerLink="/autore/search"  class='btn btn-secondary ml-2' >
                    <i class='fa fa-chevron-left'></i> Torna alla ricerca
                </a>


            </form>


            <!-- end card-body -->
        </div>
    </div>
</div>


